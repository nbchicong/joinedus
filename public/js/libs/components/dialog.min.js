$(function(){BaseUI.ns("UI.component.Dialog");UI.component.Dialog=function(a){a=a||{};this.prefix=a.prefix?a.prefix:a.id;this.id="modal-dialog";BaseUI.apply(this,a);this.prefix=this.prefix?this.prefix+"-":"";this.dialogId=String.format("#{0}",this.id);this.buttons=this.buttons?this.buttons:[];this.title=this.title||"";this.content=this.content||"";if(this.getEl().length==0)$("body").append(String.format('<div id="{0}" class="modal fade in" style="display: none"></div>',this.id));else this.content=
this.getEl().html();this._initComponent()};BaseUI.extend(UI.component.Dialog,UI.Component,{_initComponent:function(){var a='<div class="modal-dialog"><div class="modal-content"><div class="modal-header">';a+='<a class="close" data-dismiss="modal">&times;</a>';a+=String.format("<h4>{0}</h4>",this.getTitle());a+="</div>";a+=String.format('<div class="modal-body">{0}</div>',this.getContent());a+='<div class="modal-footer">';a+=this._generateButtons();a+="</div></div></div>";this.getEl().html(a)},_generateButtons:function(){var a=
"";if(BaseUI.isArray(this.buttons))for(var c=0;c<this.buttons.length;c++){var b=this.buttons[c];b.id=b.id?b.id:this.prefix+BaseUI.generateId();a+=String.format('<button id="{0}" class="btn btn-sm {1}"><span class="{2}"></span> {3}</button>',b.id,b.cls||"",b.icon,b.text);this.getEl().off("click","#"+b.id).on("click","#"+b.id,b.fn.createDelegate(this))}return a},getEl:function(){return $(this.dialogId)},show:function(){if(!(this.getEl().length<1)){this.getEl().modal("show");var a=this.getButtons()||
[];a.length>0&&$(a[0]).focus();return this}},hide:function(){this.getEl().modal("hide");return this},getContent:function(){return this.content},setContent:function(a){this.content=a;this.getEl().find(".modal-body").html(this.content)},setTitle:function(a){this.title=a;this.getEl().find(".modal-header h4").html(this.title)},getTitle:function(){return this.title},getMask:function(){return this.getEl()},getButtons:function(){return this.getEl().find(".modal-footer button")},setOptions:function(a){this.options=
a||{}},getOptions:function(){return this.options},setData:function(a){this.data=a},getData:function(){return this.data},destroy:function(){this.getEl().remove();delete this}})});