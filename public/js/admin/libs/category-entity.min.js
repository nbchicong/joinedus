/*
 Copyright (c) 2016 CT1905
 Created by Nguyen Ba Chi Cong <nbchicong@gmail.com>
 ---------------------------------------------------
*/
$(function(){UI.CategoryEntity=function(){var a=this;this.id="category-entity";this.submitType="JSON";this.$toolbar={CREATE:$("#btn-add")};this.url={list:"agency/cash/list",create:"category/create",update:"category/update"};this.$listItem=$("#list-item");this.$modalAdd=$("#modal-category");this.$txtName=$("#txt-cate-name");this.$cbbParent=$("#cbb-cate-parent");this.$toolbar.CREATE.on("click",function(){a.clear()});this.$modalAdd.on("click","button[data-action]",function(){a[a.getAction(this)].call(a)});
UI.CategoryEntity.superclass.constructor.call(this)};BaseUI.extend(UI.CategoryEntity,UI.Entity,{clear:function(){this.setEntityId(null);this.$modalAdd.find("input").val("")},setFormData:function(a){this.$txtName.val(a.name);this.$cbbParent.val(a.parentCateId)},getFormData:function(){return{name:this.$txtName.val(),parentCateId:this.$cbbParent.val()}},save:function(){var a=this,b=this.getFormData();if(BaseUI.isEmpty(this.getEntityId())){this.setParams(b);this.create(function(c){a.responseHandle(c,
function(){a.$modalAdd.modal("hide");a.notify("Create success","success");console.log("%cCreate success","color: #00FF00")})})}else{b.id=this.getEntityId();this.setParams(b);this.update(function(c){a.responseHandle(c,function(){a.$modalAdd.modal("hide");a.notify("Update success","success");console.log("%cUpdate success","color: #00FF00")})})}}});new UI.CategoryEntity});